{"version":3,"sources":["src/index.js"],"names":["url","addForm","document","forms","addtask","searchForm","findtask","todos","getElementById","addEventListener","addTaskHandler","findTodos","makeRequest","query","fetch","method","headers","body","JSON","stringify","then","res","json","printTodo","title","completed","id","user","li","createElement","className","innerHTML","name","setAttribute","checkbox","type","handleTodoStatus","prepend","del","handleDeleteTodo","append","e","preventDefault","taskname","value","newTaskQuery","data","createTodo","reset","searchText","searchname","searchQuery","forEach","todo","todoId","parentElement","dataset","changeStatusQuery","checked","updateTodo","removeAttribute","deleteQuery","deleteTodo","remove"],"mappings":"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","file":"src.cfb019d5.js","sourceRoot":"..","sourcesContent":["const url = 'https://graphqlzero.almansi.me/api';\r\n\r\nconst addForm = document.forms.addtask;\r\nconst searchForm = document.forms.findtask;\r\nconst todos = document.getElementById('todos');\r\n\r\naddForm.addEventListener(\"submit\", addTaskHandler);\r\nsearchForm.addEventListener(\"submit\", findTodos);\r\n\r\nconst makeRequest = (query) => {\r\n    return fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ query })\r\n    }).then((res) => res.json());\r\n};\r\n\r\nfunction printTodo({ title, completed = false, id = \"\", user = {} }) {\r\n    const li = document.createElement(\"li\");\r\n    li.className = \"list-group-item\";\r\n    li.innerHTML = `&nbsp; ${title} | ID: ${id} | by <b>${user.name}</b>`;\r\n    li.setAttribute(\"data-id\", id);\r\n\r\n    const checkbox = document.createElement(\"input\");\r\n    checkbox.type = \"checkbox\";\r\n    if (completed) {\r\n        checkbox.setAttribute(\"checked\", \"true\");\r\n    }\r\n    checkbox.addEventListener(\"change\", handleTodoStatus);\r\n    li.prepend(checkbox);\r\n\r\n    const del = document.createElement(\"button\");\r\n    del.className = \"btn btn-link mb-1\";\r\n    del.innerHTML = \"&times;\";\r\n    del.addEventListener(\"click\", handleDeleteTodo);\r\n    li.append(del);\r\n\r\n    todos.prepend(li);\r\n}\r\n\r\nmakeRequest(`query Todos {\r\n  todos{\r\n    data {\r\n      id\r\n      title\r\n      completed\r\n      user {\r\n        name\r\n      }\r\n    }\r\n  }\r\n}`).then(({ data }) => data.todos.data.forEach((todo) => printTodo(todo)));\r\n\r\nasync function addTaskHandler(e) {\r\n    e.preventDefault();\r\n    if (addForm.taskname.value) {\r\n        const newTaskQuery = `mutation CreateTodo {\r\n      createTodo(input:{title: \"${addForm.taskname.value}\", completed: false}){\r\n        title\r\n        completed\r\n        id\r\n      }\r\n    }`;\r\n\r\n        const data = await makeRequest(newTaskQuery);\r\n        printTodo(data.data.createTodo);\r\n        addForm.reset();\r\n    }\r\n}\r\n\r\nasync function findTodos(e) {\r\n    e.preventDefault();\r\n    const searchText = searchForm.searchname.value;\r\n\r\n    if (searchText) {\r\n        const searchQuery = `query searchQuery{\r\n        todos(options:{search:{q: \"${searchText}\"}, sort:{field: \"id\", order: ASC}}){\r\n            data {\r\n              id\r\n              title\r\n              completed\r\n              user { name }\r\n            }\r\n          }\r\n    }`;\r\n        const { data } = await makeRequest(searchQuery);\r\n\r\n        todos.innerHTML = \"\";\r\n        data.todos.data.forEach((todo) => printTodo(todo));\r\n    }\r\n}\r\n\r\nasync function handleTodoStatus() {\r\n    const todoId = this.parentElement.dataset.id;\r\n\r\n    const changeStatusQuery = `mutation ChangeStatus {\r\n      updateTodo(id: \"${todoId}\", input: {completed: ${this.checked}}) {\r\n          completed\r\n      }\r\n  }`;\r\n\r\n    const data = await makeRequest(changeStatusQuery);\r\n    if (data.data.updateTodo.completed) {\r\n        this.setAttribute(\"checked\", \"true\");\r\n    } else {\r\n        this.removeAttribute(\"checked\");\r\n    }\r\n}\r\n\r\nasync function handleDeleteTodo() {\r\n    const todoId = this.parentElement.dataset.id;\r\n    const deleteQuery = `mutation DeleteTodo {\r\n      deleteTodo(id: \"${todoId}\")\r\n  }`;\r\n\r\n    const data = await makeRequest(deleteQuery);\r\n\r\n    if (data.data.deleteTodo) {\r\n        this.parentElement.remove();\r\n    }\r\n}\r\n"]}